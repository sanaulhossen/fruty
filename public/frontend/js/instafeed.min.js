/**
 * Minified by jsDelivr using UglifyJS v3.3.22.
 * Original file: /npm/instafeed@2.0.0/lib/instafeed.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
(function(){"use strict";function e(e){if(this.uuid="instafeed".concat("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/x/g,function(){return(16*Math.random()|0).toString(16)}).replace("y",(3&(16*Math.random()|0)|8).toString(16)).replace(/-/g,"")),!e)throw new Error("InstafeedOptionsError: Missing options.");switch(this.url="https://api.instagram.com/v1/",e.get){case"tag":if("string"!=typeof e.tagName)throw new Error('InstafeedOptionsError: Missing or invalid option "tagName".');this.url=this.url.concat("tags/",encodeURIComponent(e.tagName));break;case"location":if("string"!=typeof e.locationId||!/^\d+$/.test(e.locationId))throw new Error('InstafeedOptionsError: Missing or invalid option "locationId".');this.url=this.url.concat("locations/",e.locationId);break;default:if(void 0!==e.get&&"user"!==e.get)throw new Error('InstafeedOptionsError: Invalid option "get".');if(this.url=this.url.concat("users/"),void 0===e.userId)this.url=this.url.concat("self");else{if("string"!=typeof e.userId||!/^\d+$/.test(e.userId))throw new Error('InstafeedOptionsError: Invalid option "userId".');this.url=this.url.concat(e.userId)}}if("string"!=typeof e.accessToken)throw new Error('InstafeedOptionsError: Missing or invalid option "accessToken".');if(this.url=this.url.concat("/media/recent?access_token=",encodeURIComponent(e.accessToken),"&callback=",this.uuid,".parse"),this.nextUrl="",void 0!==e.limit){if("number"!=typeof e.limit)throw new Error('InstafeedOptionsError: Invalid option "limit".');e.limit&&(this.url=this.url.concat("&count=",e.limit.toString()))}if(void 0===e.sort)this.sort="none";else{if(!/^(?:none|(?:most|least)-(?:recent|liked|commented)|random)$/.test(e.sort))throw new Error('InstafeedOptionsError: Invalid option "sort".');this.sort=e.sort}if(void 0===e.imageTemplate)this.imageTemplate='<img src="{{image}}" width="{{width}}" height="{{height}}">';else{if("string"!=typeof e.imageTemplate)throw new Error('InstafeedOptionsError: Invalid option "imageTemplate".');this.imageTemplate=e.imageTemplate}if(void 0===e.videoTemplate)this.videoTemplate='<img src="{{previewImage}}" width="{{previewWidth}}" height="{{previewHeight}}">';else{if("string"!=typeof e.videoTemplate)throw new Error('InstafeedOptionsError: Invalid option "videoTemplate".');this.videoTemplate=e.videoTemplate}if(void 0===e.carouselFrameTemplate)this.carouselFrameTemplate='<img src="{{previewImage}}" width="{{previewWidth}}" height="{{previewHeight}}">';else{if("string"!=typeof e.carouselFrameTemplate)throw new Error('InstafeedOptionsError: Invalid option "carouselFrameTemplate".');this.carouselFrameTemplate=e.carouselFrameTemplate}if(void 0===e.carouselImageTemplate)this.carouselImageTemplate="";else{if("string"!=typeof e.carouselImageTemplate)throw new Error('InstafeedOptionsError: Invalid option "carouselImageTemplate".');this.carouselImageTemplate=e.carouselImageTemplate}if(void 0===e.carouselVideoTemplate)this.carouselVideoTemplate="";else{if("string"!=typeof e.carouselVideoTemplate)throw new Error('InstafeedOptionsError: Invalid option "carouselVideoTemplate".');this.carouselVideoTemplate=e.carouselVideoTemplate}switch(e.imageResolution){case"low-resolution":this.imageResolution="low_resolution";break;case"standard-resolution":this.imageResolution="standard_resolution";break;default:if(void 0===e.imageResolution)this.imageResolution="thumbnail";else if("thumbnail"!==e.get)throw new Error('InstafeedOptionsError: Invalid option "imageResolution".')}switch(e.videoResolution){case"low-bandwidth":this.videoResolution="low_bandwidth";break;case"low-resolution":this.videoResolution="low_resolution";break;default:if(void 0===e.videoResolution)this.videoResolution="standard_resolution";else if("standard-resolution"!==e.get)throw new Error('InstafeedOptionsError: Invalid option "videoResolution".')}if(void 0===e.relativeScheme)this.relativeScheme=!1;else{if("boolean"!=typeof e.relativeScheme)throw new Error('InstafeedOptionsError: Invalid option "relativeScheme".');this.relativeScheme=e.relativeScheme}if(void 0===e.target)this.target="instafeed";else{if("string"!=typeof e.target)throw new Error('InstafeedOptionsError: Invalid option "target".');this.target=e.target}if(void 0===e.mock)this.mock=!1;else{if("boolean"!=typeof e.mock)throw new Error('InstafeedOptionsError: Invalid option "mock".');this.mock=e.mock}this.filter="function"==typeof e.filter?e.filter:null,this.onBefore="function"==typeof e.onBefore?e.onBefore:null,this.onAfter="function"==typeof e.onAfter?e.onAfter:null,this.onSuccess="function"==typeof e.onSuccess?e.onSuccess:null,this.onError="function"==typeof e.onError?e.onError:null}function h(e,t){for(var i=t.replace(/\[(\w+)\]/g,".$1").split(".");i.length;){var r=i.shift();if(null==e||!(r in e))return null;e=e[r]}return e}function d(e,t){for(var i=/(?:\{{2})(\w+(?:\.\w+|\[\w+\])*)(?:\}{2})/;i.test(e);){var r=h(t,e.match(i)[1]);null===r&&(r=""),e=e.replace(i,function(){return r})}return e}var t,i;e.prototype.run=function(e){if("undefined"==typeof window||!window)throw new Error("InstafeedRunError: No window object available.");if(window[this.uuid]={},window[this.uuid].parse=function(i){document.head.removeChild(document.getElementById(this.uuid)),delete window[this.uuid];try{if(!i||!i.meta||"number"!=typeof i.meta.code)throw new Error;if(200!==i.meta.code)throw new Error("string"==typeof i.meta.error_type&&"string"==typeof i.meta.error_message?'InstafeedInstagramAPIError: "'.concat(i.meta.error_type,": ",i.meta.error_message,'".'):"InstafeedConnectionError: Connection to Instagram failed.");if(!this.mock){if(!i.data)throw new Error;if("random"===this.sort)for(var e=i.data.length-1;e;e--){var t=Math.floor(Math.random()*(e+1)),r=i.data[e];i.data[e]=i.data[t],i.data[t]=r}else if("none"!==this.sort){var o,n=this.sort.split("-"),a="least"===n[0];switch(n[1]){case"recent":o="created_time";break;case"liked":o="likes.count";break;case"commented":o="comments.count"}i.data.sort(function(e,t){var i=h(e,o),r=h(t,o);if(null===i||null===r)throw new Error;return i<r^a?1:-1})}this.filter&&i.data.forEach(function(e,t){this.filter(e)||delete i.data[t]},this);var s=document.createElement("div");i.data.forEach(function(e){if(!("string"==typeof e.id&&"string"==typeof e.type&&e.user&&"string"==typeof e.user.id&&"string"==typeof e.user.username&&"string"==typeof e.user.full_name&&"string"==typeof e.user.profile_picture&&e.images&&"string"==typeof e.filter&&e.likes&&"number"==typeof e.likes.count&&"boolean"==typeof e.user_has_liked&&e.comments&&"number"==typeof e.comments.count&&e.tags&&"string"==typeof e.created_time&&"string"==typeof e.link))throw new Error;var o={id:e.id,type:e.type,userId:e.user.id,username:e.user.username,fullName:e.user.full_name,profilePicture:e.user.profile_picture,filter:e.filter,likes:e.likes.count,userHasLiked:e.user_has_liked?"true":"false",comments:e.comments.count,tags:JSON.stringify(e.tags),createdTime:e.created_time,link:e.link,model:e};if(e.caption){if("string"!=typeof e.caption.text)throw new Error;o.caption=e.caption.text}else o.caption="";if(e.location){if("string"!=typeof e.location.name||"number"!=typeof e.location.latitude||"number"!=typeof e.location.longitude)throw new Error;o.location=e.location.name,o.latitude=e.location.latitude.toString(),o.longitude=e.location.longitude.toString()}else o.location="",o.latitude="",o.longitude="";var t=e.images[this.imageResolution];if(!t||"string"!=typeof t.url||"number"!=typeof t.width||"number"!=typeof t.height)throw new Error;if(this.relativeScheme&&(t.url=t.url.replace(/^https?:/,"")),t.orientation=t.width===t.height?"square":t.width>t.height?"landscape":"portrait","image"===e.type){if(o.image=t.url,o.width=t.width.toString(),o.height=t.height.toString(),o.orientation=t.orientation,!e.users_in_photo)throw new Error;o.usersInPhoto=JSON.stringify(e.users_in_photo),s.innerHTML=s.innerHTML.concat(d(this.imageTemplate,o))}else if(o.previewImage=t.url,o.previewWidth=t.width.toString(),o.previewHeight=t.height.toString(),o.previewOrientation=t.orientation,"video"===e.type){if(!e.videos)throw new Error;var i=e.videos[this.videoResolution];if(!i||"string"!=typeof i.url||"number"!=typeof i.width||"number"!=typeof i.height)throw new Error;o.video=this.relativeScheme?i.url.replace(/^https?:/,""):i.url,o.width=i.width.toString(),o.height=i.height.toString(),o.orientation=i.width===i.height?"square":i.width>i.height?"landscape":"portrait",s.innerHTML=s.innerHTML.concat(d(this.videoTemplate,o))}else if("carousel"===e.type){if(!e.carousel_media)throw new Error;o.media="",e.carousel_media.forEach(function(e){if("string"!=typeof e.type)throw new Error;var t={type:e.type};switch(e.type){case"image":if(!e.images)throw new Error;var i=e.images[this.imageResolution];if(!i||"string"!=typeof i.url||"number"!=typeof i.width||"number"!=typeof i.height)throw new Error;if(t.image=this.relativeScheme?i.url.replace(/^https?:/,""):i.url,t.width=i.width.toString(),t.height=i.height.toString(),t.orientation=i.width===i.height?"square":i.width>i.height?"landscape":"portrait",!e.users_in_photo)throw new Error;t.usersInPhoto=JSON.stringify(e.users_in_photo),o.media=o.media.concat(d(this.carouselImageTemplate,t));break;case"video":if(!e.videos)throw new Error;var r=e.videos[this.videoResolution];if(!r||"string"!=typeof r.url||"number"!=typeof r.width||"number"!=typeof r.height)throw new Error;t.video=this.relativeScheme?r.url.replace(/^https?:/,""):r.url,t.width=r.width.toString(),t.height=r.height.toString(),t.orientation=r.width===r.height?"square":r.width>r.height?"landscape":"portrait",o.media=o.media.concat(d(this.carouselVideoTemplate,t))}},this),s.innerHTML=s.innerHTML.concat(d(this.carouselFrameTemplate,o))}},this),this.onBefore&&this.onBefore();var l=document.getElementById(this.target);if(!l)throw new Error("InstafeedParseError: No target element found.");for(var e=s.childNodes.length;e;e--)l.appendChild(s.childNodes[0]);this.onAfter&&this.onAfter()}i.pagination&&"string"==typeof i.pagination.next_url&&(this.nextUrl=i.pagination.next_url),this.onSuccess&&this.onSuccess(i)}catch(e){this.onError&&this.onError(e.message.length?e.message:"InstafeedParseError: Invalid response from Instagram.")}}.bind(this),"undefined"==typeof document||!document)throw new Error("InstafeedRunError: No document object available.");var t=document.createElement("script");t.id=this.uuid,t.src=e||this.url,t.onerror=function(){document.head.removeChild(document.getElementById(this.uuid)),this.onError("InstafeedConnectionError: Connection to Instagram failed.")}.bind(this),document.head.appendChild(t)},e.prototype.hasNext=function(){return 0<this.nextUrl.length},e.prototype.next=function(){this.hasNext()&&(this.run(this.nextUrl),this.nextUrl="")},t=this,i=function(){return e},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(i):"object"==typeof module&&module.exports?module.exports=i():t.Instafeed=i()}).call(this);
//# sourceMappingURL=/sm/a2c0731b6d23d3440f0d47644db8ac263d0b59087cb49c8def718d138b9e18ae.map